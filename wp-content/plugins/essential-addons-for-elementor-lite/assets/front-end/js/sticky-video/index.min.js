var eaelsvPosition="",eaelsvWidth=0,eaelsvHeight=0,eaelsvDomHeight=0,videoIsActive=0,eaelMakeItSticky=0;function GetDomElementHeight(e){return jQuery(e).parent().offset().top+jQuery(e).parent().height()}function PositionStickyPlayer(e,t,i){"top-left"==e&&(jQuery(".eael-sticky-video-player2.out").css("top","40px"),jQuery(".eael-sticky-video-player2.out").css("left","40px")),"top-right"==e&&(jQuery(".eael-sticky-video-player2.out").css("top","40px"),jQuery(".eael-sticky-video-player2.out").css("right","40px")),"bottom-right"==e&&(jQuery(".eael-sticky-video-player2.out").css("bottom","40px"),jQuery(".eael-sticky-video-player2.out").css("right","40px")),"bottom-left"==e&&(jQuery(".eael-sticky-video-player2.out").css("bottom","40px"),jQuery(".eael-sticky-video-player2.out").css("left","40px")),jQuery(".eael-sticky-video-player2.out").css("width",i+"px"),jQuery(".eael-sticky-video-player2.out").css("height",t+"px")}function PlayerPlay(e,t){e.on("play",function(e){eaelsvDomHeight=GetDomElementHeight(t),jQuery(".eael-sticky-video-player2").removeAttr("id"),jQuery(".eael-sticky-video-player2").removeClass("out"),t.attr("id","videobox"),videoIsActive=1,eaelsvPosition=t.data("position"),eaelsvHeight=t.data("sheight"),eaelsvWidth=t.data("swidth")})}function RunStickyPlayer(e){new Plyr("#"+e).start()}jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/eael-sticky-video.default",function(e,t){t(".eaelsv-sticky-player-close",e).hide();var i,o,s,a=e.find(".eael-sticky-video-player2");i=a.data("sticky"),o=a.data("autoplay"),eaelsvPosition=a.data("position"),eaelsvHeight=a.data("sheight"),eaelsvWidth=a.data("swidth"),s=a.data("overlay");var l=new Plyr("#eaelsv-player-"+e.data("id"));if("yes"===i&&("yes"===o&&"no"===s&&(eaelsvDomHeight=GetDomElementHeight(a),a.attr("id","videobox"),0==videoIsActive&&(videoIsActive=1)),PlayerPlay(l,a)),"yes"===s){var y=a.prev();t(y).on("click",function(){t(this).css("display","none"),"yes"===t(this).next().data("autoplay")&&(l.restart(),eaelsvDomHeight=GetDomElementHeight(this),t(this).next().attr("id","videobox"),videoIsActive=1)})}l.on("pause",function(e){1==videoIsActive&&(videoIsActive=0)}),t(".eaelsv-sticky-player-close").on("click",function(){a.removeClass("out").addClass("in"),t(".eael-sticky-video-player2").removeAttr("style"),videoIsActive=0})})}),jQuery(window).scroll(function(){var e=jQuery(window).scrollTop();jQuery(document).height()-e>jQuery(window).height()+400&&(eaelsvDomHeight+100<=e?1==videoIsActive&&(jQuery("#videobox").find(".eaelsv-sticky-player-close").css("display","block"),jQuery("#videobox").removeClass("in").addClass("out"),PositionStickyPlayer(eaelsvPosition,eaelsvHeight,eaelsvWidth)):(jQuery(".eaelsv-sticky-player-close").hide(),jQuery("#videobox").removeClass("out").addClass("in"),jQuery(".eael-sticky-video-player2").removeAttr("style")))});